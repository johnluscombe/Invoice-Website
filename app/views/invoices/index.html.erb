<% if current_user.admin %>
    <h1>Employee invoices</h1>
    <button class="btn btn-primary">
      <%= link_to "Back to Users", users_path(@user) %>
    </button><br>
<% else %>
    <h1>Invoices</h1>
<% end %>
<br>
<% if (@user and @user.invoices.count > 0) or (@user == nil and Invoice.where(:status => "Pending").count > 0) %>
    <table class="table table-striped">
      <% if @user == nil and Invoice.where(:status => "Pending").count > 0 %>
          <col width="200">
      <% end %>
      <col width="100">
      <col width="100">
      <col width="100">
      <col width="100">
      <col width="100">
      <col width="50">
      <col width="50">
      <% if current_user.admin %>
          <col width="50">
          <col width="50">
          <col width="50">
      <% end %>
      <col width="50">
      <col width="50">
      <tr>
        <% if @user == nil and Invoice.where(:status => "Pending").count > 0 %>
            <th class="center">Employee</th>
        <% end %>
        <th class="center">Start Date</th>
        <th class="center">End Date</th>
        <th class="center">Hours</th>
        <th class="center">Net Pay</th>
        <th class="center">Status</th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <% if current_user.admin %>
          <th></th>
          <th></th>
        <% end %>
      </tr>
      <%= render @invoices %>
    </table>
    <% if @user %>
      <td><button class="btn btn-success">
        <%= link_to "New Invoice", new_user_invoice_path(@user) %>
      </button></td>
    <% end %>
<% elsif @user %>
    <p>You do not have any invoices yet.</p>
    <td><button class="btn btn-success">
      <%= link_to "New Invoice", new_user_invoice_path(@user) %>
    </button></td>
<% elsif Invoice.where(:status => "Pending").count == 0 %>
    <p>There are no pending invoices.</p>
<% end %>
<br><br>